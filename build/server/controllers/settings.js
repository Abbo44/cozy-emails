// Generated by CoffeeScript 1.7.1
var Settings;

Settings = require('../models/settings');

module.exports = {
  change: function(req, res, next) {
    return Settings.getInstance().then(function(settings) {
      var key, value, _ref;
      _ref = req.body;
      for (key in _ref) {
        value = _ref[key];
        settings[key] = value;
      }
      return settings.savePromised();
    }).then(function(updated) {
      return res.send(updated);
    })["catch"](next);
  }
};
