{"version":3,"file":"public/js/app.js","sources":["app/components/application.coffee","app/initialize.coffee","app/lib/router-interface.coffee","app/router.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAAA,OAAiB,KAAK,CAAC,GAAvB,EAAC,gBAAD,EAAO,cAAP,EAAY,UAAZ;;AAAA,MAEM,CAAC,OAAP,GAAiB,cAAc,KAAK,CAAC,WAAN,CAC3B;AAAA,eAAa,aAAb;AAAA,EAEA,QAAQ;WACJ,KAAK,IAAL,EACI,EAAE,IAAF,EAAQ,QAAR,CADJ,EADI;EAAA,CAFR;CAD2B,CAF/B;;;;ACEA,EAAE;AAEE;AAAA,WAAS,QAAQ,QAAR,CAAT;AAAA,EACA,kBAAkB,QAAQ,wBAAR,CADlB;AAAA,EAIA,IAAC,OAAD,GAAc,YAJd;AAAA,EAKA,KAAK,CAAC,eAAN,CAAuB,gBAAgB;AAAA,YAAQ,IAAC,OAAT;GAAhB,CAAvB,EAAyD,QAAQ,CAAC,IAAlE,CALA;AAAA,EAQA,QAAQ,CAAC,OAAO,CAAC,KAAjB,EARA;AAWA,MAAsB,aAAa,CAAC,MAAd,KAAwB,UAA9C;WAAA,MAAM,CAAC,MAAP,CAAc,IAAd;GAbF;AAAA,CAAF;;;;ACFA;;AAAA,cAAc,QAAQ,2BAAR,CAAd;;AAEA;AAAA;;;;GAFA;;AAAA,MAQM,CAAC,OAAP,GAAiB,KAAK,CAAC,WAAN,CACb;AAAA,eAAa,iBAAb;AAAA,EAEA,oBAAoB;AAGhB,QAAC,SAAD,GAAY;aAAA;eAAG,KAAC,YAAD,GAAH;MAAA;IAAA,QAAZ;WAEA,IAAC,MAAK,CAAC,MAAM,CAAC,EAAd,CAAiB,OAAjB,EAA0B,IAAC,SAA3B,EALgB;EAAA,CAFpB;AAAA,EASA,sBAAsB;WAClB,IAAC,MAAK,CAAC,MAAM,CAAC,GAAd,CAAkB,OAAlB,EAA2B,IAAC,SAA5B,EADkB;EAAA,CATtB;AAAA,EAYA,QAAQ;AACJ,QAAG,IAAC,MAAK,CAAC,MAAM,CAAC,OAAd,KAAyB,MAA5B;AACI,aAAO,aAAP,CADJ;KAAA;AAGI,aAAO,KAAK,CAAC,GAAG,CAAC,GAAV,CAAc,IAAd,EAAoB,EAApB,CAAP,CAHJ;KADI;EAAA,CAZR;CADa,CARjB;;;;ACAA;AAAA;;;GAAA;AAAA;EAAA;iSAAA;;AAAA,MAKM,CAAC,OAAP,GAAuB;AAEnB;;;;GAAA;;AAAA,4BACI;AAAA,QAAI,MAAJ;GADJ;;AAAA,mBAGA,OAAM;WAAG,IAAC,QAAD,GAAW,OAAd;EAAA,CAHN;;gBAAA;;GAFkC,QAAQ,CAAC,OAL/C","sourcesContent":["{body, div, p} = React.DOM\n\nmodule.exports = Application = React.createClass\n    displayName: 'Application'\n\n    render: ->\n        body null,\n            p null, 'coucou'\n","\n# Waits for the DOM to be ready\n$ ->\n    # Routing management\n    Router = require 'router'\n    RouterInterface = require './lib/router-interface'\n\n    # Binds the Backbone Router to the React application\n    @router = new Router()\n    React.renderComponent  RouterInterface(router: @router), document.body\n\n    # Starts the application by initializing the router\n    Backbone.history.start()\n\n    # Makes this object immuable.\n    Object.freeze this if typeof Object.freeze is 'function'","Application = require '../components/application'\n\n###\n    The RouterInterface uses Backbone.Router as a source of truth\n    and is the binding between the router and the React application.\n    Based on https://medium.com/react-tutorials/react-backbone-router-c00be0cf1592\n###\n\nmodule.exports = React.createClass\n    displayName: 'RouterInterface'\n\n    componentWillMount: ->\n        # Uses `forceUpdate` with the proper scope because React doesn't allow\n        # to rebind its scope on the fly\n        @callback = => @forceUpdate()\n\n        @props.router.on 'route', @callback\n\n    componentWillUnmount: ->\n        @props.router.off 'route', @callback\n\n    render: ->\n        if @props.router.current is 'main'\n            return Application()\n        else\n            return React.DOM.div null, ''","###\n    Very simple routing component. We let Backbone handling browser stuff\n    and we bind it to the React application with the `RouterInterface`\n###\n\nmodule.exports = class Router extends Backbone.Router\n\n    routes:\n        '': 'main'\n\n    main: -> @current = 'main'"]}