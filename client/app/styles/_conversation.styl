/*
  Conversation

  -- List of collapsable message content
*/

.conversation

    &.enable
        display block

    h3
        color #444
        margin-top 0
        padding-bottom 10px

        .close-conversation
            cursor pointer
            font-size 20px
            margin-right 15px

        .expand
            float right

        .expand
        .close-conversation
            color basecolor
            &:hover
                color actioncolor

    .thread
        padding 0
        border-top 1px solid #f4f4f4

        .message
            padding 5px 15px
            border-bottom 1px solid #e4e4e4
            cursor pointer

            font-size 13px

            background #f4f4f4

            &.active
            &:last-of-type
                background #fff

                .preview
                    display block
                .content
                    display block

            &:last-of-type
                cursor default

            .messageToolbox
                margin-top 1em
                margin-bottom 1em
                opacity .3

            .messageToolbox:hover
                margin 1em auto
                opacity 1

            .messageToolbox .tool-long
                display none

            .preview
            .content
                margin 0 5px

            .header
                display flex
                justify-content flex-start
                align-items center
            .header.row.compact
                outline none
                display flex
                justify-content flex-start
                align-items center
                .participants
                    margin 0 .5em
                    overflow hidden
                    text-overflow ellipsis
                .title
                    min-width 200px
                    &:after
                        content ' - '
                .hour
                    margin-left auto
                        color darkcolor
                .flags
                    width 3em

                .attach
                    display none
                .fav
                    color #FF0
                    display none

            .header.row.compact.has-attachments .attach
            .header.row.compact.is-fav .fav
                  display inline
                  padding 0 .5em

            .toggle-active
                position relative
                top 0
                right 0
                align-self flex-start
                margin -5px 0

            .sender-avatar
                display block
                float left
                padding 0 .5em
                margin 0 .5em 0 0
                font-size 2em
                line-height 2em
                color #aaa
                border 1px solid #aaa

            .participants
                &.receivers
                    color mediumcolor

            .content-action
                background-color lightcolor
                margin .5em 0
                padding .25em

                button
                    margin 0 1em

            .content
                white-space pre-line
                margin 1em 0 0 0
                display none
                width 100%

            .preview
                margin-top 15px
                overflow hidden
                white-space pre-line
                text-overflow ellipsis
                color darkcolor // for ellipsis + p
                font-family "Source Sans Pro"

                p
                    margin 0
                    display inline

            .participants
                color darkcolor

                .address
                    margin 0 .5em 0 0
                    line-height 1.5em
                    padding .25em

                    .address-add
                        cursor pointer
                        padding 2px


            .hour
                margin-left auto
                color darkcolor

            // placeholder until we have images
            .fa-user
                color #aaa
                font-size 30px
                border 1px solid #aaa

            &:hover:not(.active):not(:last-of-type)
                background #f4f4f4

    .full-headers
        display none

    .with-headers
        .full-headers
            display block
